# ุชุฏูู ุธููุฑ ุงููุดุงุฑูุน ูููุณุชูููู

## ูุธุฑุฉ ุนุงูุฉ
ุนูุฏูุง ููุดุฆ ุงูุนููู ูุดุฑูุน ุฌุฏูุฏุ ูุฌุจ ุฃู ูุธูุฑ ูุจุงุดุฑุฉ ูููุณุชูููู ูู ุตูุญุฉ "ุงููุดุงุฑูุน ุงููุชุงุญุฉ".

## ููู ูุนูู ุงููุธุงูุ

### 1. ุฅูุดุงุก ุงููุดุฑูุน (ุงูุนููู)
```
ุงูุนููู โ ุตูุญุฉ ุฅูุดุงุก ูุดุฑูุน โ POST /api/projects
```

**ุงูุจูุงูุงุช ุงููุฑุณูุฉ:**
```json
{
  "title": "ุฃุฑูุฏ ุชุตููู ุดุนุงุฑ",
  "description": "ูุตู ุงููุดุฑูุน...",
  "category_id": 1,
  "budget": 100,
  "duration_days": 7
}
```

**ุงูุงุณุชุฌุงุจุฉ ูู Backend:**
```json
{
  "message": "Project created successfully",
  "project": {
    "id": 1,
    "client_id": 5,
    "category_id": 1,
    "title": "ุฃุฑูุฏ ุชุตููู ุดุนุงุฑ",
    "description": "...",
    "budget": 100,
    "duration_days": 7,
    "status": "open",  // โ ุงููุดุฑูุน ููุญูุธ ุจุญุงูุฉ "open"
    "created_at": "2025-01-15 10:00:00"
  }
}
```

### 2. ูุงุนุฏุฉ ุงูุจูุงูุงุช
ุงููุดุฑูุน ููุญูุธ ูู ุฌุฏูู `projects` ูุน:
- `status = 'open'` โ
- `client_id` (ูุนุฑูู ุงูุนููู)
- `category_id` (ูุนุฑูู ุงูุชุตููู)
- ุฌููุน ุงูุจูุงูุงุช ุงูุฃุฎุฑู

**ุฌุฏูู `projects`:**
```sql
CREATE TABLE projects (
  id BIGINT PRIMARY KEY,
  client_id BIGINT,
  category_id BIGINT,
  title VARCHAR(191),
  description TEXT,
  budget DECIMAL(12,2),
  duration_days INT,
  status ENUM('open', 'in_progress', 'completed', 'cancelled') DEFAULT 'open',
  accepted_offer_id BIGINT NULL,
  created_at TIMESTAMP,
  updated_at TIMESTAMP
);
```

### 3. ุนุฑุถ ุงููุดุงุฑูุน ูููุณุชูููู
```
ุงููุณุชูู โ ุตูุญุฉ ุงููุดุงุฑูุน โ GET /api/projects/open
```

**Backend Method: `openProjects()`**
```php
// Back-end/app/Http/Controllers/Api/ProjectController.php

public function openProjects(Request $request)
{
    $query = Project::with(['category', 'client'])
        ->withCount('offers') // ุนุฏุฏ ุงูุนุฑูุถ ููู ูุดุฑูุน
        ->where('status', 'open'); // โ ููุท ุงููุดุงุฑูุน ุงูููุชูุญุฉ

    // ุชุตููุฉ ุญุณุจ ุงููุฆุฉ (ุงุฎุชูุงุฑู)
    if ($request->filled('category_id')) {
        $query->where('category_id', $request->integer('category_id'));
    }

    // ุชุฑุชูุจ ุญุณุจ ุงูุฃุญุฏุซ ุฃููุงู
    $projects = $query->latest('created_at')->paginate(20);

    return response()->json($projects);
}
```

**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "data": [
    {
      "id": 1,
      "title": "ุฃุฑูุฏ ุชุตููู ุดุนุงุฑ",
      "description": "...",
      "budget": 100,
      "duration_days": 7,
      "status": "open",
      "offers_count": 0,  // ุนุฏุฏ ุงูุนุฑูุถ ุงูููุฏูุฉ
      "category": {
        "id": 1,
        "name": "ุงูุชุตููู ูุงูุฅุจุฏุงุน"
      },
      "client": {
        "id": 5,
        "name": "ุงุณู ุงูุนููู"
      },
      "created_at": "2025-01-15 10:00:00"
    }
  ],
  "current_page": 1,
  "per_page": 20,
  "total": 1
}
```

### 4. Route ูู Backend
```php
// Back-end/routes/api.php

// โ ูุชุงุญ ููุฌููุน (ุจุฏูู ูุตุงุฏูุฉ)
Route::get('/projects/open', [ProjectController::class, 'openProjects']);
```

## ุงูุชุฏูู ุงููุงูู

```
โโโโโโโโโโโโโโโ
โ   ุงูุนููู    โ
โโโโโโโโฌโโโโโโโ
       โ
       โ 1. ููุดุฆ ูุดุฑูุน ุฌุฏูุฏ
       โ    POST /api/projects
       โ
       โผ
โโโโโโโโโโโโโโโโโโโ
โ   ูุงุนุฏุฉ ุงูุจูุงูุงุช โ
โ   (MySQL)        โ
โ                  โ
โ  projects table  โ
โ  status = 'open' โ
โโโโโโโโฌโโโโโโโโโโโโ
       โ
       โ 2. ููุญูุธ ุงููุดุฑูุน
       โ
       โผ
โโโโโโโโโโโโโโโโโโโ
โ   Backend API    โ
โ                  โ
โ  GET /projects/  โ
โ      open        โ
โโโโโโโโฌโโโโโโโโโโโโ
       โ
       โ 3. ูุฌูุจ ุงููุดุงุฑูุน ุงูููุชูุญุฉ
       โ
       โผ
โโโโโโโโโโโโโโโ
โ  ุงููุณุชูููู   โ
โ              โ
โ  ุตูุญุฉ        โ
โ  ุงููุดุงุฑูุน    โ
โโโโโโโโโโโโโโโ
```

## ููุงุญุธุงุช ูููุฉ

### โ ุงููุธุงู ูุนูู ุชููุงุฆูุงู:
1. **ุนูุฏ ุฅูุดุงุก ูุดุฑูุน:** ููุญูุธ ูุน `status = 'open'` ุชููุงุฆูุงู
2. **ุนูุฏ ุฌูุจ ุงููุดุงุฑูุน:** `openProjects()` ูุฌูุจ ููุท ุงููุดุงุฑูุน ุจู `status = 'open'`
3. **ุงูุชุฑุชูุจ:** ุงููุดุงุฑูุน ุงูุฃุญุฏุซ ุชุธูุฑ ุฃููุงู (`latest('created_at')`)

### ๐ ุชุญุฏูุซ ุชููุงุฆู:
- **Frontend:** ูุฌุจ ุฃู ูุนูุฏ ุชุญููู ุงููุดุงุฑูุน ุนูุฏ ูุชุญ ุตูุญุฉ "ุงููุดุงุฑูุน ุงููุชุงุญุฉ"
- **Backend:** ุงููุดุงุฑูุน ุงูุฌุฏูุฏุฉ ุชุธูุฑ ูุจุงุดุฑุฉ ุจุฏูู ุฃู ุฅุนุฏุงุฏ ุฅุถุงูู

### ๐ ูุนูููุงุช ุฅุถุงููุฉ:
- **ุนุฏุฏ ุงูุนุฑูุถ:** `offers_count` ููุญุณุจ ุชููุงุฆูุงู ููู ูุดุฑูุน
- **ุงูุชุตููู:** ููุฌูุจ ูุน ุงููุดุฑูุน (`category`)
- **ุงูุนููู:** ูุนูููุงุช ุงูุนููู ุงูุฃุณุงุณูุฉ (`client`)

## ุงุฎุชุจุงุฑ ุงููุธุงู

### 1. ุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ:
```bash
# ุชุณุฌูู ุฏุฎูู ูุนููู
POST /api/login
{
  "email": "client@example.com",
  "password": "password"
}

# ุฅูุดุงุก ูุดุฑูุน
POST /api/projects
Authorization: Bearer {token}
{
  "title": "ูุดุฑูุน ุชุฌุฑูุจู",
  "description": "ูุตู ุงููุดุฑูุน",
  "category_id": 1,
  "budget": 50,
  "duration_days": 5
}
```

### 2. ุงูุชุญูู ูู ุธููุฑ ุงููุดุฑูุน:
```bash
# ุฌูุจ ุงููุดุงุฑูุน ุงูููุชูุญุฉ (ุจุฏูู ูุตุงุฏูุฉ)
GET /api/projects/open

# ูุฌุจ ุฃู ูุธูุฑ ุงููุดุฑูุน ุงูุฌุฏูุฏ ูู ุงููุชุงุฆุฌ
```

### 3. ูู Frontend:
- ุงูุชุญ ุตูุญุฉ `/freelancer/projects`
- ูุฌุจ ุฃู ูุธูุฑ ุงููุดุฑูุน ุงูุฌุฏูุฏ ูุจุงุดุฑุฉ

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ุงููุดุฑูุน ูุง ูุธูุฑ ูููุณุชูููู

**ุงูุญููู:**
1. โ ุชุฃูุฏ ุฃู `status = 'open'` ุนูุฏ ุงูุฅูุดุงุก
2. โ ุชุฃูุฏ ุฃู Route `/projects/open` ูุชุงุญ (ุฎุงุฑุฌ `auth:sanctum`)
3. โ ุชุฃูุฏ ุฃู Frontend ูุณุชุฏุนู `GET /api/projects/open`
4. โ ุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช: `SELECT * FROM projects WHERE status = 'open'`

### ุงููุดููุฉ: ุงููุดุงุฑูุน ุงููุฏููุฉ ุชุธูุฑ ุฃููุงู

**ุงูุญู:**
- Backend ูุณุชุฎุฏู `latest('created_at')` - ุงููุดุงุฑูุน ุงูุฃุญุฏุซ ุชุธูุฑ ุฃููุงู โ

## ุงูุฎูุงุตุฉ

โ **ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุฌูุฏุฉ ุจุงููุนู** - ูุง ุญุงุฌุฉ ูุฅุถุงูุฉ ุฌุฏุงูู ุฌุฏูุฏุฉ
โ **ุงููุธุงู ูุนูู ุชููุงุฆูุงู** - ุงููุดุงุฑูุน ุงูุฌุฏูุฏุฉ ุชุธูุฑ ูุจุงุดุฑุฉ
โ **ูุง ุญุงุฌุฉ ูุฅุนุฏุงุฏุงุช ุฅุถุงููุฉ** - ูู ุดูุก ุฌุงูุฒ

